# 处理器体系架构 
## 1．请简述精简指令集 RISC 和复杂指令集 CISC 的区别。
> 通常，简单指令大部分时间都能在一个 cycle 内完成，基于这种思想的指令集叫作 RISC（Reduced Instruction Set Computer）指令集，以前的指令集叫作 CISC（Complex Instruction Set Computer）指令集。

## 2．请简述数值 0x12345678 在大小端字节序处理器的存储器中的存储方式。
> 大端模式：指数据的==高字节==保存在内存的==低地址==中，而数据的==低字节==保存在内存的==高地址==中
> 在大端模式下，前 32 位应该这样读：12 34 56 78。因此，大端模式下==地址的增长顺序与值的增长顺序相同==。(至于为什么要2个2个的图,因为这是16进制,16进制下,一个数字用4位二进制表示,2个数字表示一个字节,所以这一段数据是4个字节)
> 在小端模式下,内存的视图如下
> 内存视图：
	0x0000430: 7856 3412 0100 1800 53ef 0100 0100 0000

## 3．请简述在你所熟悉的处理器（比如双核 Cortex-A9）中一条存储读写指令的执行全过程。
> 略,见p38

## 4．请简述内存屏障（memory barrier）产生的原因。
### 4.1补充知识,缓存一致性
1. Modified 状态

>- **Modified 状态**：表示这个数据已经被当前 CPU 修改过，并且只存在于当前 CPU 的缓存中。
> - **特点**：
    - 当前 CPU 独占这个数据，并且已经修改过。
    - 内存中的数据已经过时，最新的数据只在当前 CPU 的缓存中。
    - 在缓存行被重用之前，必须将数据写回内存或传递给其他需要它的 CPU。
> 

2. Exclusive(独有)
>- **Exclusive 状态**：表示这个数据只存在于当前 CPU 的缓存中，还没有被其他 CPU 缓存。
> - **特点**：
    - 当前 CPU 独占这个数据，可以直接操作（读或写）而不需要通知其他 CPU。
    - 因为内存中的数据和缓存中的数据是一样的，所以不需要将数据写回内存。
    - 如果需要腾出缓存空间，可以直接重用这个缓存行（cache line）。

3. Shared 状态

>- **Shared 状态**：表示这个数据可能存在于一个或多个 CPU 的缓存中。
>- **特点**：
    - 多个 CPU 可能都有这个数据的副本。
    - 当前 CPU 不能直接修改这个数据，必须先通知其他 CPU 使它们的副本失效。
    - 内存中的数据和缓存中的数据是一样的，所以不需要将数据写回内存。
    - 可以直接重用这个缓存行。

4. Invalid 状态

> - **Invalid 状态**：表示这个缓存行是空的或无效的。
>- **特点**：
    - 当前缓存行没有有效的数据。
    - 当新的数据需要进入缓存时，优先选择无效的缓存行。
    - 选择无效的缓存行不会涉及数据置换，因此不会导致缓存缺失（cache miss）。

## 5 ARM 有几条 memory barrier 的指令？分别有什么区别？
> 略,见p33