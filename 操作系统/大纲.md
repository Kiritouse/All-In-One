# 可能考的简答题
# 5.4.4 分段与分页的区别
（1）页是信息的物理单位，段是信息的逻辑单位；
（2）页的大小固定，段的大小动态变化；
（3）分页系统中的逻辑地址空间是一维的，分段系统中的是二维的
（4）分页对用户不可见，分段对用户可见
（5）分段比分页更方便信息的共享和保护

# 3进程和线程

## 3.1 进程的引入

### 3.1.1 程序并发执行及特征

### 3.1.2 进程管理功能

## 3.2 进程概念

### 3.2.1 进程的定义及特征

### 3.2.2 进程状态及转换

### 3.2.4 进程控制块PCB

## 3.3 进程控制

### 3.3.1 进程创建

## 3.4 进程同步

### 3.4.2 进程同步机制及应用

> - 信号量机制
>
>   **P操作**：使S=S-1，若S>=0，则该进程继续执行，否则该进程排入等待队列。
>
>   **V操作：**使S=S+1，若S>0,唤醒等待队列中的一个进程。
>
>   信号量S的状态含义：
>
>   - 正值：表示可用资源数量。
>   - 零：表示没有可用资源，但也没有等待的进程。
>   - 负值：表示没有可用资源，且有|值|个进程在等待。
>
>   

# 4 进程调度与死锁
## 4.1 进程调度
### 4.1.1 进程调度的基本概念
#### 2. 进程调度与分派
#### 3. 调度的层次
1. 高级调度
> **外存**上处于后备队列中的**作业调入内存**,==创建进程,分配资源,然后将进程插入就绪队列==
1. 低级调度
> 又称**进程调度**,用来决定**就绪队列**中哪个进程应该获得处理机
3. 中级调度
> 内存和外存的交换

|            | 高级调度              | 低级调度        | 中级调度     |
| ---------- | ----------------- | ----------- | -------- |
| 调度对象       | 作业                | 进程          | 进程       |
| 调度目的       | 作业进内存、创建进程并置入就绪队列 | 选择就绪进程分配CPU | 进程挂起转入外存 |
| 适用OS       | 批处理系统             | 各种OS        | 应用交广泛    |
| 调度频率(间隔时间) | 最低                | 最高          | 两者之间     |

#### 4. 进程调度方式
##### 非抢占式
##### 抢占方式
> 时间片原则;优先权原则;剩余运行时间

#### 5. 可能的进程调度时机

#### 7. 调度性能的评价指标
1. CPU利用率
2. 平均周转时间
3. 带权平均周转时间

#### 8. 批处理系统中的作业
1. 作业
2. 作业步
3. 作业流
4. 作业控制块JCB:

## 4.2 进程调度
### 4.2.1 进程调度算法

| 算法              | 选择函数     | 调度方式 | 吞吐量          | 响应时间                  | 开销    | 对进程的影响             | 饥饿  |
| --------------- | -------- | ---- | ------------ | --------------------- | ----- | ------------------ | --- |
| 先来先服务FCFS       | Max(w)   | 非抢占  | 不突出          | 可能很高，特别是当进程的执行时间差别很大时 | 小     | 对短进程不利；对I/O密集型进程不利 | 无   |
| 时间片轮转RR         | 常数       | 抢占   | 时间片太小，吞吐量会很低 | 为短进程提供好的响应时间          | 小     | 公平对待               | 无   |
| 短作业/进程优先SJF/SPF | Min(s)   | 非抢占  | 高            | 提供好的响应时间              | 可能比较高 | 对长进程不利             | 可能  |
| 高响应比优先HRRN      | Max(R_p) | 非抢占  | 高            | 提供好的响应时间              | 可能比较高 | 很好的满足              | 无   |
| 多级反馈            | -        | 抢占   | 不突出          | 不突出                   | 可能比较高 | 受I/O限制的进程有利        | 可能  |
#### 先来先服务调度算法(FCFS)
##### 作业调度
按进入后备队列的先后顺序,选择一个或多个作业,调入内存,为他们分配资源,创建进程,并放入就绪队列
#####  进程调度
按进程就绪的先后次序.为之分配处理机
#### 短作业(进程)优先调度算法(SJF)
##### 作业调度
从后备队列中选择一个或多个估计运行时间最短的作业
##### 进程调度
从就绪队列中选择估计运行时间最短的进程
##### 非抢占式
##### 抢占式
按剩余运行时间抢占

##### 优点
极低的平均周转时间
##### 缺点
对长作业不利,有**饥饿状态**
人机无法实现交互

#### 高响应比优先调度算法(HRRF)
$$
\text{响应比} = \frac{\text{周转时间}}{\text{服务时间}} = \frac{\text{等待时间} + \text{服务时间}}{\text{服务时间}} = 1 + \frac{\text{等待时间}}{\text{服务时间}}
$$
##### 优点
首先照顾了短作业,同时也考略了长作业的等待时间,相对比较公平
##### 缺点
**系统开销大**,常采用**非抢占式**

#### 时间片轮转调度算法
##### 抢占式
##### 非抢占式
##### 优点
不可能导致饥饿

#### 优先级进程调度算法
##### 抢占式
##### 非抢占式
##### 优先级设计

###### 静态优先级
###### 动态优先级

> 优先级数值越小,优先程度越高

#### 多级队列调度算法
多个就绪多列,不同队列可以安排不同的调度算法



# 5 内存管理

## 5.1 存储器管理概述

### 5.1.1 存储器的层次体系结构

- 寄存器
- 主存
- 辅存

### 5.1.2 存储器的管理功能

- 地址映射: 逻辑地址到物理地址的映射
  1. 静态重定位
  2. 动态重定位
- 内存分配与回收
- 内存扩充: 虚拟内存
- 内存共享与保护: 若干个程序进入内存,共同使用一个内存;保护进程之间相互不受影响

### 5.1.3 程序的装入和链接

1. 绝对装入
2. 静态重定位装入:边装入边进行地址修改
3. 动态重定位装入:边运行边进行地址修改

## 5.2 连续存储器管理方式

### 5.2.1 分区分配

分配算法:

 - 首次适应算法

   > 空闲分区链按分区**起始地址递增**的顺序链接
   >
   > 程序装入空间足够且地址最低的空闲区中
   >
   > *特点:内存低端会留下小的空闲区.高端有大的空闲区*

 - 最佳适应算法

   > 空闲分区**按大小递增**的次序排列
   >
   > 程序装入主存中与其大小最接近的空闲区中
   >
   > 特点:会留下大量小碎片

 - 最坏适应算法

   > 空闲分区按**大小递减**的次序排列
   >
   > 程序装入主存中与其大小差距最大的空闲区中
   >
   > 特点:剩余空闲区较大,不容易留下大分区

 - 循环首次适应算法NF

   > 空闲分区按地址递增次序链接,链表为循环链表
   >
   > 一直找直到找到一个大小可满足的空闲分区
   >
   > 优点:空闲分区分布均匀,减少查找空闲分区开销
   >
   > 缺点:会缺乏大的空闲分区

 - 快速适应算法QF

   > 又称分类搜索算法
   >
   > QF算法通常与FF算法配合使用，事先根据进程常用空间大小从一个大的空闲区中划分出若干类小的空闲分区并分类组织供QF算法使用，如果这些类型的分区大小不能满足进程的要求，就采用FF算法从内存中大的空闲分区划出一块分配给进程。优点：查找效率高，无需分割。
   >
   > 缺点：分区归还内存时算法复杂，开销大。

### 5.2.2 伙伴系统

## 5.3 页面式存储管理方式

> 相对分区来说,内存可以不用连续

### 5.3.1 基本原理



> 逻辑地址
>
> 页号P和页内地址d的计算公式P＝INT [A/L]   d＝[A] % L        A：逻辑地址空间中的地址  L：页面大大小
>
> 物理地址
>
> 用块来分离,块大小与页面大小一致

地址变换:   (**填空选择必考**)

页号| 页内位移

块号|块内位移     页号和块号通过查找页表进行映射,页内位移d和块内位移两者相等
[地址变换](地址变换.md)
详细笔记

### 5.3.2 两级和多级页表(了解)

## 5.4 段式存储管理方式

### 5.4.1 基本原理

### 5.4.2 段式地址变换机构

### 5.4.3 分段共享与保护

### 5.4.4 分段与分页的区别

## 5.5 段式存储管理方式

## 5.6 内存扩充

## 5.7 虚拟存储管理

### 5.7.1 基本原理

### 5.7.2 请求分页存储管理方式

### 5.7.3 页面置换算法

1. FIFO 先进先出页面置换算法

   > 淘汰那些最先进入系统,即**驻留时间最长的页**

2. OPT 最佳置换算法

   > 向右看,找未来很近没有出现的页面进行替换

3. LRU 最近最久未使置换算法

   > 向左边看,替换很久以前就出现了的

### 5.7.4 请求分页方式性能分析


