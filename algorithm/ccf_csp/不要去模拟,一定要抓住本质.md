[4280. 序列查询 - AcWing题库](https://www.acwing.com/problem/content/description/4283/)
```c++
#include <bits/stdc++.h>

using namespace std;

int n, N;

int a[201] = {};

int f[10000001] = {};

int main()

{

    ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);

    cin >> n >> N;

    for(int i = 1;i<=n;i++){

        cin>>a[i];

    }

    int ans = n*(N-a[n]);

    for(int i = 2;i<=n;i++){

        int tmp = a[i]-a[i-1];

        tmp = tmp*(i-1);

        ans+=tmp;

    }

    cout<<ans<<endl;

}
```

> 思路
> 这道题,我最开始暴力的做法真的遍历x去一个一个判断,这样子一定是超时的
> 所以一定要记住 **千万不要根据题意去模拟**
> 观察条件和提示
> $A_i$<=x<$A(i+1)$
> 多个相同的f(x)的和=( A(i+1)-A(i) ) * f(x)
> 而f(x) = i;
> 所以有了核心的遍历的代码
>
```c++
        int tmp = a[i]-a[i-1];

        tmp = tmp*(i-1);
```
> 所以一定要**抓本质**,知道我们**要什么**,**不要什么**,适当对**条件**进行**变形**,**不要去模拟**

当然不难发现,我们去查找f(x)的时候直接用**二分查找**也是一种办法,**涉及查找**的时候不妨想一下